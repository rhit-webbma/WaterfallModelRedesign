/* File generated by: simse.codegenerator.guigenerator.AttributePanelGenerator */
package simse.gui;

import simse.engine.*;
import simse.gui.util.JavaFXHelpers;
import simse.state.*;
import simse.adts.objects.*;

import java.text.*;
import java.util.*;

import javafx.geometry.HPos;
import javafx.geometry.Insets;
import javafx.geometry.VPos;
import javafx.scene.canvas.Canvas;
import javafx.scene.canvas.GraphicsContext;
import javafx.scene.control.Label;
import javafx.scene.control.ListView;
import javafx.scene.control.ScrollPane;
import javafx.scene.control.ScrollPane.ScrollBarPolicy;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.Border;
import javafx.scene.layout.BorderImage;
import javafx.scene.layout.FlowPane;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.Pane;
import javafx.scene.layout.Priority;
import javafx.scene.paint.Color;

public class AttributePanel extends Pane {
	private final int ATTRIBUTE_LIST_CAPACITY = 5; // number of attributes that
													// can be displayed in a
													// list without making the
													// list scrollable

	private GridPane gridPane;
	private ClockPanel clockPane;

	private State state;
	private NumberFormat numFormat;

	private ScrollPane attributePaneLeft;
	private ScrollPane attributePaneRight;
	private ListView attributeListLeft;
	private ListView attributeListRight;

	private Vector<String> attributes;
	private SSObject objInFocus = null;
	private Label selectedIcon;
	private HBox iconPanel;

	private Image border;
	private Image iconBorder;

	public AttributePanel(SimSEGUI g, State s, Engine e) {
		gridPane = new GridPane();
		this.getChildren().add(gridPane);
		this.setBackground(JavaFXHelpers.createBackgroundColor(Color.rgb(102, 102, 102, 1)));
		gridPane.setHgap(10);
		gridPane.setPadding(new Insets(10, 10, 10, 10));

		border = JavaFXHelpers.createImage("src/simse/gui/images/layout/border.gif");
		iconBorder = JavaFXHelpers.createImage("src/simse/gui/images/layout/iconBorder.gif");
		this.setBorder(new Border(new BorderImage(border, null, null, null, true, null, null)));

		state = s;
		clockPane = new ClockPanel(g, s, e);
		clockPane.setPrefSize(250, 100);

		numFormat = NumberFormat.getNumberInstance(Locale.US);

		attributes = new Vector<String>();

		attributeListLeft = new ListView();
		attributePaneLeft = new ScrollPane(attributeListLeft);
		attributePaneLeft.setVbarPolicy(ScrollBarPolicy.AS_NEEDED);
		attributePaneLeft.setPrefSize(300, 95);

		attributeListRight = new ListView();
		attributePaneRight = new ScrollPane(attributeListRight);
		attributePaneRight.setVbarPolicy(ScrollBarPolicy.AS_NEEDED);
		attributePaneRight.setPrefSize(300, 95);

		HBox attributePane = new HBox(5);
		attributePane.getChildren().add(attributePaneLeft);
		attributePane.getChildren().add(attributePaneRight);
		attributePane.setBackground(JavaFXHelpers.createBackgroundColor(Color.rgb(102, 102, 102, 1)));

		iconPanel = new HBox();
		iconPanel.setBackground(JavaFXHelpers.createBackgroundColor(Color.rgb(0, 0, 0, 0)));
		iconPanel.setPrefSize(100, 100);
		selectedIcon = new Label("", JavaFXHelpers.createImageView("src/simse/gui/images/grid.gif"));
		selectedIcon.setOpacity(1);
		selectedIcon.setPrefSize(50, 50);
		selectedIcon.setMinSize(50, 50);

		GridPane.setConstraints(iconPanel, 0, 0, 1, 1, HPos.CENTER, VPos.CENTER, Priority.NEVER, Priority.NEVER,
				new Insets(-3, 5, 0, 0));
		iconPanel.getChildren().add(selectedIcon);
		selectedIcon.setBorder(new Border(new BorderImage(iconBorder, null, null, null, true, null, null)));
		gridPane.getChildren().add(iconPanel);

		GridPane.setConstraints(attributePane, 2, 0, 1, 1, HPos.CENTER, VPos.BOTTOM, Priority.NEVER, Priority.NEVER,
				new Insets(0, 0, 0, 0));
		gridPane.getChildren().add(attributePane);

		GridPane.setConstraints(clockPane, 3, 0, 1, 1, HPos.RIGHT, VPos.BOTTOM, Priority.NEVER, Priority.NEVER,
				new Insets(10, 0, 0, 0));
		gridPane.getChildren().add(clockPane);
	}

	public void setObjectInFocus(SSObject obj, Image img) {
		objInFocus = obj;
//		if (img != null) {
//			setGraphic(img);
//		}
		updateAttributeList();
	}

	public void update() {
		updateAttributeList();
		clockPane.update();
	}

	public void setGUIChanged() {
	}

	private void updateAttributeList() {
		attributes.clear();

		// Employee:
		if ((objInFocus != null) && state.getEmployeeStateRepository().getAll().contains(objInFocus)) {
			if (objInFocus instanceof SoftwareEngineer) {
				SoftwareEngineer p = (SoftwareEngineer) objInFocus;
				attributes.add("<html><font size=2>Type: SoftwareEngineer</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Energy: " + numFormat.format(p.getEnergy()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Energy: " + numFormat.format(p.getEnergy()) + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Mood: " + numFormat.format(p.getMood()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Mood: " + numFormat.format(p.getMood()) + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>RequirementsExperience: " + p.getRequirementsExperience()
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>RequirementsExperience: " + p.getRequirementsExperience()
							+ "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes
							.add("<html><font size=2>DesignExperience: " + p.getDesignExperience() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes
							.add("<html><font size=2>DesignExperience: " + p.getDesignExperience() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes
							.add("<html><font size=2>CodingExperience: " + p.getCodingExperience() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes
							.add("<html><font size=2>CodingExperience: " + p.getCodingExperience() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add(
							"<html><font size=2>TestingExperience: " + p.getTestingExperience() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add(
							"<html><font size=2>TestingExperience: " + p.getTestingExperience() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes
							.add("<html><font size=2>PayRate: " + numFormat.format(p.getPayRate()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes
							.add("<html><font size=2>PayRate: " + numFormat.format(p.getPayRate()) + "</font></html>");
				}
			}
		}
		// Artifact:
		else if ((objInFocus != null) && state.getArtifactStateRepository().getAll().contains(objInFocus)) {
			if (objInFocus instanceof RequirementsDocument) {
				RequirementsDocument p = (RequirementsDocument) objInFocus;
				attributes.add("<html><font size=2>Type: RequirementsDocument</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumKnownErrors: " + numFormat.format(p.getNumKnownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumKnownErrors: " + numFormat.format(p.getNumKnownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumUnknownErrors: " + numFormat.format(p.getNumUnknownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentErroneous: " + numFormat.format(p.getPercentErroneous())
							+ "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentComplete: " + numFormat.format(p.getPercentComplete())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentComplete: " + numFormat.format(p.getPercentComplete())
							+ "</font></html>");
				}
			} else if (objInFocus instanceof DesignDocument) {
				DesignDocument p = (DesignDocument) objInFocus;
				attributes.add("<html><font size=2>Type: DesignDocument</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumKnownErrors: " + numFormat.format(p.getNumKnownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumKnownErrors: " + numFormat.format(p.getNumKnownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumUnknownErrors: " + numFormat.format(p.getNumUnknownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentErroneous: " + numFormat.format(p.getPercentErroneous())
							+ "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentComplete: " + numFormat.format(p.getPercentComplete())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentComplete: " + numFormat.format(p.getPercentComplete())
							+ "</font></html>");
				}
			} else if (objInFocus instanceof Code) {
				Code p = (Code) objInFocus;
				attributes.add("<html><font size=2>Type: Code</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentComplete: " + numFormat.format(p.getPercentComplete())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentComplete: " + numFormat.format(p.getPercentComplete())
							+ "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentIntegrated: " + numFormat.format(p.getPercentIntegrated())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentIntegrated: " + numFormat.format(p.getPercentIntegrated())
							+ "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumKnownErrors: " + numFormat.format(p.getNumKnownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumKnownErrors: " + numFormat.format(p.getNumKnownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumUnknownErrors: " + numFormat.format(p.getNumUnknownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentErroneous: " + numFormat.format(p.getPercentErroneous())
							+ "</font></html>");
				}
			} else if (objInFocus instanceof SystemTestPlan) {
				SystemTestPlan p = (SystemTestPlan) objInFocus;
				attributes.add("<html><font size=2>Type: SystemTestPlan</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumKnownErrors: " + numFormat.format(p.getNumKnownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumKnownErrors: " + numFormat.format(p.getNumKnownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>NumUnknownErrors: " + numFormat.format(p.getNumUnknownErrors())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentErroneous: " + numFormat.format(p.getPercentErroneous())
							+ "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentComplete: " + numFormat.format(p.getPercentComplete())
							+ "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(0);
					numFormat.setMaximumFractionDigits(0);
					attributes.add("<html><font size=2>PercentComplete: " + numFormat.format(p.getPercentComplete())
							+ "</font></html>");
				}
			}
		}
		// Tool:
		else if ((objInFocus != null) && state.getToolStateRepository().getAll().contains(objInFocus)) {
			if (objInFocus instanceof RequirementsCaptureTool) {
				RequirementsCaptureTool p = (RequirementsCaptureTool) objInFocus;
				attributes.add("<html><font size=2>Type: RequirementsCaptureTool</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Cost: " + numFormat.format(p.getCost()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Cost: " + numFormat.format(p.getCost()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>ProductivityIncreaseFactor: "
							+ numFormat.format(p.getProductivityIncreaseFactor()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>ErrorRateDecreaseFactor: "
							+ numFormat.format(p.getErrorRateDecreaseFactor()) + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Purchased: " + p.getPurchased() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Purchased: " + p.getPurchased() + "</font></html>");
				}
			} else if (objInFocus instanceof DesignEnvironment) {
				DesignEnvironment p = (DesignEnvironment) objInFocus;
				attributes.add("<html><font size=2>Type: DesignEnvironment</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Cost: " + numFormat.format(p.getCost()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Cost: " + numFormat.format(p.getCost()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>ProductivityIncreaseFactor: "
							+ numFormat.format(p.getProductivityIncreaseFactor()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>ErrorRateDecreaseFactor: "
							+ numFormat.format(p.getErrorRateDecreaseFactor()) + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Purchased: " + p.getPurchased() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Purchased: " + p.getPurchased() + "</font></html>");
				}
			} else if (objInFocus instanceof IDE) {
				IDE p = (IDE) objInFocus;
				attributes.add("<html><font size=2>Type: IDE</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Cost: " + numFormat.format(p.getCost()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Cost: " + numFormat.format(p.getCost()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>ProductivityIncreaseFactor: "
							+ numFormat.format(p.getProductivityIncreaseFactor()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>ErrorRateDecreaseFactor: "
							+ numFormat.format(p.getErrorRateDecreaseFactor()) + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Purchased: " + p.getPurchased() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Purchased: " + p.getPurchased() + "</font></html>");
				}
			} else if (objInFocus instanceof AutomatedTestingTool) {
				AutomatedTestingTool p = (AutomatedTestingTool) objInFocus;
				attributes.add("<html><font size=2>Type: AutomatedTestingTool</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Cost: " + numFormat.format(p.getCost()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Cost: " + numFormat.format(p.getCost()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>ProductivityIncreaseFactor: "
							+ numFormat.format(p.getProductivityIncreaseFactor()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>ErrorRateDecreaseFactor: "
							+ numFormat.format(p.getErrorRateDecreaseFactor()) + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Purchased: " + p.getPurchased() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Purchased: " + p.getPurchased() + "</font></html>");
				}
			}
		}
		// Project:
		else if ((objInFocus != null) && state.getProjectStateRepository().getAll().contains(objInFocus)) {
			if (objInFocus instanceof SEProject) {
				SEProject p = (SEProject) objInFocus;
				attributes.add("<html><font size=2>Type: SEProject</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Description: " + p.getDescription() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Description: " + p.getDescription() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Budget: " + numFormat.format(p.getBudget()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add("<html><font size=2>Budget: " + numFormat.format(p.getBudget()) + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add(
							"<html><font size=2>MoneySpent: " + numFormat.format(p.getMoneySpent()) + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					numFormat.setMinimumFractionDigits(2);
					numFormat.setMaximumFractionDigits(2);
					attributes.add(
							"<html><font size=2>MoneySpent: " + numFormat.format(p.getMoneySpent()) + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>AllottedTime: " + p.getAllottedTime() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>AllottedTime: " + p.getAllottedTime() + "</font></html>");
				}
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>TimeUsed: " + p.getTimeUsed() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>TimeUsed: " + p.getTimeUsed() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Score: " + p.getScore() + "</font></html>");
				}
			}
		}
		// Customer:
		else if ((objInFocus != null) && state.getCustomerStateRepository().getAll().contains(objInFocus)) {
			if (objInFocus instanceof ACustomer) {
				ACustomer p = (ACustomer) objInFocus;
				attributes.add("<html><font size=2>Type: aCustomer</font></html>");
				if (!state.getClock().isStopped()) // game not over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
				if (state.getClock().isStopped()) // game is over
				{
					attributes.add("<html><font size=2>Name: " + p.getName() + "</font></html>");
				}
			}
		} else {
			this.setIcon(JavaFXHelpers.createImageView("src/simse/gui/images/grid.gif"));
		}

		attributeListLeft.setUserData(attributes);
		attributeListRight.setUserData(new Vector());

		// distribute attributes to both sides, if needed:
		Vector<String> rightHandAtts = new Vector<String>();
		if (attributes.size() > ATTRIBUTE_LIST_CAPACITY) { // need to use 2nd list
			while ((ATTRIBUTE_LIST_CAPACITY) < attributes.size()) { // there are still more elements to
																	// move to right
				rightHandAtts.add(attributes.remove(ATTRIBUTE_LIST_CAPACITY)); // remove from left, put on right
			}
			attributeListRight.setUserData(rightHandAtts);
			attributeListLeft.setUserData(attributes);

//				if (attributePaneLeft.) // need to move one more over to account
//																			// for extra space that scrollbar takes up
//				{
//					rightHandAtts.add(0, attributes.remove(attributes.size() - 1)); // move
//					attributeListRight.setUserData(rightHandAtts);
//					attributeListLeft.setUserData(attributes);
//				}
		}
	}

	public ClockPanel getClockPanel() {
		return clockPane;
	}

	public void setIcon(ImageView img) {
		selectedIcon.setBackground(JavaFXHelpers.createBackgroundColor(Color.WHITE));
		selectedIcon.setGraphic(img);
	}
}